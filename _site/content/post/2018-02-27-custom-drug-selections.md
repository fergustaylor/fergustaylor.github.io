---
title: Custom Drug Selections
author: Fergus Taylor
date: '2018-02-27'
slug: custom-drug-selections
categories:
  - BNF
tags: []
header_image: "/blogimages/bnf-interactions.png"
---

Since my last post I've updated my original "top 100" graph, introducing a checkbox for recoloring the paths in red which represent 'severe' interactions.

I'm fairly happy with the form of my graph now, although I'm still considering the ways I could make it visually informative.

Ideally my intentions were to use hierachical edge bundling as a visual shortcut to allow the viewer to appraise whole drug classes. I.e look at a node on the edge representing a certain drug. Then look across to the class of drugs you'd like to introduce, flick between the class and drug and inspect the connections between them. 
You might hover over the drug to highlight links into the class, searching for unconnected drugs. You can inspect the drugs in that class indivually, assessing their interactions with the rest of the page. You can toggle the 'severe' checkbox, and select individual drugs to read their interaction messages in the sidebar.
By moving the tension bar back and forth you could see how the interactions group together by drug class, or other applied hierachy.

I'm not necessarily convinced by that yet, but it's been interesting to work on.

The next stage was always to enable dynamic drug selections, having collected the data for all drugs from the start, (see below).

<img src="https://fergustaylor.github.io//blogimages/d3-3.png" alt="" style="width:100%;height:auto;">

I've been experimenting with a seperate page based on a searchbar and checkboxes, then managed to find a way to use the array generated by the selected boxes to filter the initial input to the d3 cluster.

<a href="https://fergustaylor.github.io/D3/bnf-interactions/>
<img src="https://fergustaylor.github.io/blogimages/bnf-interactions.png" alt="" style="width:100%;height:auto;">
</a>
    
<a href="https://fergustaylor.github.io/D3/d3-dynamicclassed/">
<img src="https://fergustaylor.github.io/blogimages/d3-dynamicclasses.png" alt="" style="width:100%;height:auto;">
</a>